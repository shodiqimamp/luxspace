{"ast":null,"code":"var _jsxFileName = \"C:\\\\Project\\\\BWA\\\\ReactNew\\\\luxspace\\\\src\\\\helpers\\\\hooks\\\\useGlobalContext.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { createContext, useContext, useReducer } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Context = /*#__PURE__*/createContext();\nconst initialState = {\n  cart: {}\n};\nexport function useGlobalContext() {\n  _s();\n\n  const [state, dispatch] = useContext(Context);\n\n  if (!state || !dispatch) {\n    throw new Error(\"useGlobalContext must be used within a Provider\");\n  }\n\n  return {\n    state,\n    dispatch\n  };\n}\n\n_s(useGlobalContext, \"R/iqDjZuP7G94n7Hryyh+IyzlJk=\");\n\nfunction Reducer(state, action) {\n  switch (action.type) {\n    case \"ADD_TO_CART\":\n      console.log(action);\n      return { ...state,\n        cart: state.cart ? { ...state.cart,\n          [action.item.id]: action.item\n        } : {\n          [action.item.id]: action.item\n        }\n      };\n\n    case \"REMOVE_FROM_CART\":\n      return { ...state,\n        cart: Object.keys(state.cart).filter(key => +key !== +action.id).reduce((acc, key) => {\n          const item = state.cart[key];\n          acc[item.id] = item;\n          return acc;\n        }, {})\n      };\n\n    case \"RESET_CART\":\n      return { ...state,\n        cart: initialState.cart\n      };\n\n    default:\n      {\n        throw new Error(`Unhandled action type ${action.type}`);\n      }\n  }\n}\n\n_c = Reducer;\nexport default function Provider(props) {\n  _s2();\n\n  const [state, dispatch] = useReducer(Reducer, initialState); // console.log(state);\n\n  return /*#__PURE__*/_jsxDEV(Context.Provider, {\n    value: [state, dispatch],\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 10\n  }, this);\n}\n\n_s2(Provider, \"6JWkGZ32UPfojeNx+xqn8ZU8A0Q=\");\n\n_c2 = Provider;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Reducer\");\n$RefreshReg$(_c2, \"Provider\");","map":{"version":3,"names":["React","createContext","useContext","useReducer","Context","initialState","cart","useGlobalContext","state","dispatch","Error","Reducer","action","type","console","log","item","id","Object","keys","filter","key","reduce","acc","Provider","props"],"sources":["C:/Project/BWA/ReactNew/luxspace/src/helpers/hooks/useGlobalContext.js"],"sourcesContent":["import React, { createContext, useContext, useReducer } from \"react\";\r\n\r\nconst Context = createContext();\r\n\r\nconst initialState = {\r\n  cart: {},\r\n};\r\n\r\nexport function useGlobalContext() {\r\n  const [state, dispatch] = useContext(Context);\r\n\r\n  if (!state || !dispatch) {\r\n    throw new Error(\"useGlobalContext must be used within a Provider\");\r\n  }\r\n\r\n  return { state, dispatch };\r\n}\r\n\r\nfunction Reducer(state, action) {\r\n  switch (action.type) {\r\n    case \"ADD_TO_CART\":\r\n      console.log(action);\r\n      return {\r\n        ...state,\r\n        cart: state.cart\r\n          ? {\r\n              ...state.cart,\r\n              [action.item.id]: action.item,\r\n            }\r\n          : { [action.item.id]: action.item },\r\n      };\r\n\r\n    case \"REMOVE_FROM_CART\":\r\n      return {\r\n        ...state,\r\n        cart: Object.keys(state.cart)\r\n          .filter((key) => +key !== +action.id)\r\n          .reduce((acc, key) => {\r\n            const item = state.cart[key];\r\n            acc[item.id] = item;\r\n            return acc;\r\n          }, {}),\r\n      };\r\n\r\n    case \"RESET_CART\":\r\n      return {\r\n        ...state,\r\n        cart: initialState.cart,\r\n      };\r\n\r\n    default: {\r\n      throw new Error(`Unhandled action type ${action.type}`);\r\n    }\r\n  }\r\n}\r\n\r\nexport default function Provider(props) {\r\n  const [state, dispatch] = useReducer(Reducer, initialState);\r\n  // console.log(state);\r\n  return <Context.Provider value={[state, dispatch]} {...props} />;\r\n}\r\n"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,UAA/B,EAA2CC,UAA3C,QAA6D,OAA7D;;AAEA,MAAMC,OAAO,gBAAGH,aAAa,EAA7B;AAEA,MAAMI,YAAY,GAAG;EACnBC,IAAI,EAAE;AADa,CAArB;AAIA,OAAO,SAASC,gBAAT,GAA4B;EAAA;;EACjC,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBP,UAAU,CAACE,OAAD,CAApC;;EAEA,IAAI,CAACI,KAAD,IAAU,CAACC,QAAf,EAAyB;IACvB,MAAM,IAAIC,KAAJ,CAAU,iDAAV,CAAN;EACD;;EAED,OAAO;IAAEF,KAAF;IAASC;EAAT,CAAP;AACD;;GAReF,gB;;AAUhB,SAASI,OAAT,CAAiBH,KAAjB,EAAwBI,MAAxB,EAAgC;EAC9B,QAAQA,MAAM,CAACC,IAAf;IACE,KAAK,aAAL;MACEC,OAAO,CAACC,GAAR,CAAYH,MAAZ;MACA,OAAO,EACL,GAAGJ,KADE;QAELF,IAAI,EAAEE,KAAK,CAACF,IAAN,GACF,EACE,GAAGE,KAAK,CAACF,IADX;UAEE,CAACM,MAAM,CAACI,IAAP,CAAYC,EAAb,GAAkBL,MAAM,CAACI;QAF3B,CADE,GAKF;UAAE,CAACJ,MAAM,CAACI,IAAP,CAAYC,EAAb,GAAkBL,MAAM,CAACI;QAA3B;MAPC,CAAP;;IAUF,KAAK,kBAAL;MACE,OAAO,EACL,GAAGR,KADE;QAELF,IAAI,EAAEY,MAAM,CAACC,IAAP,CAAYX,KAAK,CAACF,IAAlB,EACHc,MADG,CACKC,GAAD,IAAS,CAACA,GAAD,KAAS,CAACT,MAAM,CAACK,EAD9B,EAEHK,MAFG,CAEI,CAACC,GAAD,EAAMF,GAAN,KAAc;UACpB,MAAML,IAAI,GAAGR,KAAK,CAACF,IAAN,CAAWe,GAAX,CAAb;UACAE,GAAG,CAACP,IAAI,CAACC,EAAN,CAAH,GAAeD,IAAf;UACA,OAAOO,GAAP;QACD,CANG,EAMD,EANC;MAFD,CAAP;;IAWF,KAAK,YAAL;MACE,OAAO,EACL,GAAGf,KADE;QAELF,IAAI,EAAED,YAAY,CAACC;MAFd,CAAP;;IAKF;MAAS;QACP,MAAM,IAAII,KAAJ,CAAW,yBAAwBE,MAAM,CAACC,IAAK,EAA/C,CAAN;MACD;EAjCH;AAmCD;;KApCQF,O;AAsCT,eAAe,SAASa,QAAT,CAAkBC,KAAlB,EAAyB;EAAA;;EACtC,MAAM,CAACjB,KAAD,EAAQC,QAAR,IAAoBN,UAAU,CAACQ,OAAD,EAAUN,YAAV,CAApC,CADsC,CAEtC;;EACA,oBAAO,QAAC,OAAD,CAAS,QAAT;IAAkB,KAAK,EAAE,CAACG,KAAD,EAAQC,QAAR,CAAzB;IAAA,GAAgDgB;EAAhD;IAAA;IAAA;IAAA;EAAA,QAAP;AACD;;IAJuBD,Q;;MAAAA,Q"},"metadata":{},"sourceType":"module"}